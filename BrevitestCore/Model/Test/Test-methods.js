var spark = require('sparkCore');model.Test.methods.get_sensor_reading_array = function(param) {	// param: testID	var data, i, indx, num_readings, reading, result = [], test;		test = ds.Test(param.testID);	if (test && test.rawData) {		data = test.rawData.split('\n');		for (i = 2; i < data.length; i += 1) {			if (data[i] === '99') {				indx = i + 1;				break;			}		}		num_readings = 2 * parseInt(data[0].split('\t')[4]);		if (num_readings === indx) {			return 0;		}				r_minus_b = 0;		for (i = indx; i < num_readings + indx; i += 1) {			reading = data[i].split('\t');			result.push({				 sensor: reading[0],				 time: new Date(parseInt(reading[2])),				 clear: parseInt(reading[3]),				 red: parseInt(reading[4]),				 green: parseInt(reading[5]),				 blue: parseInt(reading[6])			});		}		return result;	}	else {		return null;	}};model.Test.methods.get_sensor_reading_array.scope = 'public';