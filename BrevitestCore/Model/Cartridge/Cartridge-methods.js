model.Cartridge.methods.manufacture = function(param) {	// param: username, assayID, quantity	var assay = ds.Assay(param.assayID);	var user = ds.User.find('username === :1', param.username);	var c, i;	if (assay && user) {		for (i = 0; i < param.quantity; i += 1) {			c = ds.Cartridge.createEntity();			c.manufacturedOn = new Date();			c.assay = assay;			c.practice = user.practice;			c.save();		}				return param.quantity;	}	else {		return 0;	}};model.Cartridge.methods.manufacture.scope = 'public';model.Cartridge.methods.register = function(param) {	// param: username, cartridgeID	var cartridge = ds.Cartridge(param.cartridgeID);	var user = ds.User.find('username === :1', param.username);	if (cartridge && user) {		cartridge.registeredOn = new Date();		cartridge.registeredBy = user;		cartridge.save();		return 1;	}	else {		return 0;	}};model.Cartridge.methods.register.scope = 'public';